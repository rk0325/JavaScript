# JavaScript

## DOM(Document Object Model)

HTMLを解釈し木構造で表現したもの

devツールで確認できる

JavaScriptやjQueryのコードは、レンダリングコスト(画面の表示速度)に問題が生じやすかったり、コードが肥大化してくるとどこで何をしているかわからなくなる→仮想DOMが作られた

↓

### **仮想DOM**

仮想DOMはJavaScriptもオブジェクトで作られた仮想的なDOM

実際のDOMとの差分を比較し変更箇所のみを実際のDOMに反映することで、DOMへの操作を最小限に抑えることが可能になる

ReactやVueなどのモダンJavaScriptのフレームワークやライブラリでは仮想DOMが用いられている→ページ遷移をJavaScriptによる画面の書き換えで表現しているが、レンダリングコストを最小限に抑えて快適なWebシステムを提供することが可能となっている

## パッケージマネージャー(npm / yarn)

- JavaScriptのnpm
- Rubyのgem
- PHPのcomposer

など

- 依存関係を意識しなくても勝手に解決してくれる
- チーム内でのパッケージの共有や、バージョン統一が容易
- 世界中で公開されているパッケージをコマンド1つで利用可能
- どこから読み込んだものか分かりやすくなった

### NPM

世界中の人がパッケージの公開場所として使用しているレジストリ

(一般的に大文字の場合はレジストリ、小文字の場合はパッケージマネージャーとしてのnpmを指すことが多い)

**自分のPCにパッケージをインストールする方法**

npmの場合

```ruby
npm install [パッケージ名]
```

yarnの場合

```ruby
yarn add [パッケージ名]
```

上記のコマンド実行時に、ローカルファイルのpackage.jsonが更新されパッケージの情報が追記される。それと同時にnpmでインストールした場合はpackage-lock.json、yarnでインストールした場合はyarn.lockファイルが生成(更新)される

lockファイルにはパッケージが内部で使用している別パッケージなどのバージョン情報や依存関係が記載されている

この2つのファイルを用いることで「どんなパッケージがどのバージョンでインストールされているのか」が分かるので、他の人の端末などでも全く同じ環境をすぐに作ることができる

package.jsonとpackage-lock.json(yarn.lock)の2ファイルからモジュールを展開(同じ環境を作成)するのも簡単！

npmの場合

```ruby
npm install
```

yarnの場合

```ruby
yarn add
```

上記のコマンドを実行すると、2つのファイルを参照してバージョンや依存関係が解決された状態で、node_modulesというフォルダが生成され、その中にパッケージの実体が展開される

実際にプログラムを実行するときにはこのnode_modulesの中を参照して便利なパッケージを動かすことができている

⚠️node_modulesフォルダ配下はサイズが膨大になるので、GitHubなどのソースコード管理ツール上にあげたり、コピペして移動はしないようにする

packageの2ファイルがあればどの環境でも同じnode_modulesを再現できるので、重たいファイルをわざわざやり取りする必要がない

## ECMAScript

JavaScriptはブラウザ上で動作する言語

ECMAScript

好き勝手に機能を追加しないようにするために、JavaScriptの標準仕様が定められている

1年に1回更新される

ES2015(ES6)で大きな機能追加が実施された

## モジュールバンドラー、トランスパイラ

**create-react-app**

Reactのテンプレートプロジェクトを作成してくれる

モジュールバンドラーやトランスパイラを意識しなくても開発をスタートできる
